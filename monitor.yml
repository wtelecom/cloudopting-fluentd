fluentd:
  build: ./fluentd
  #creo que reinicia el container en caso de caida una y otra vez, sin limite
  #equivalente al parametro --restart de docker run
  #otros valores: no, on-failure[:max-retries] y unless-stopped
  restart: always
  volumes:
    - ./fluentd/volumes/etc:/fluentd/etc
  environment:
    - FLUENTD_CONF=cloudopting.conf
#    - FLUENTD_OPT=<command line options>
  container_name: fluentd
  # net: "host" permite al container que utilice la red del equipo y no la de docker engine
  # de esta forma, los puertos que utilicemos en el container son los del mismo host
  # pero ojo, esto no podremos visualizarlo con docker ps
  net: "host"
  ## exposes 24224

elasticsearch:
  image: elasticsearch:2
  restart: always
  net: "host"
  ## exposes 9200 9300
  container_name: elasticsearch

kibana:
  image: kibana:4
  restart: always
  net: "host"
  ## exposes 5601
  environment:
    - ELASTICSEARCH_URL=http://localhost:9200
  container_name: kibana
